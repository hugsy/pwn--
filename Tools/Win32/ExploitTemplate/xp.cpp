#include <pwn>
using namespace pwn;

int
wmain()
{
    Context.Set(ArchitectureType::x64);
    Context.Set(Log::LogLevel::Debug);

    info(L"Starting...");
    {
        auto io = CTF::Remote(L"192.168.57.23", 1338);
        // also work with something like
        // auto io = ctf::Process(L"c:\\python310\\python.exe -i");
        // if ( Success(io.Spawn()) )
        {
            io.recvuntil(">>> ");
            io.sendline("print('hi python')");
            io.recvuntil(">>> ");
            io.interactive();
        }

        ok(L"Done");
    }

    Utils::Pause();
    return 0;
}
